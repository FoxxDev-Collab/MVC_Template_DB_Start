@*
    Chip Component
    Usage:
    <partial name="_Chip" model='new { Text = "Chip Label", Variant = "primary", Size = "md", Closeable = "True", AvatarSrc = "/path/to/avatar.jpg" }' />
    Variants: default, primary, success, warning, danger, outline
    Sizes: sm, md (default), lg
*@
@{
    var text = ViewData["Text"]?.ToString() ?? "";
    var variant = ViewData["Variant"]?.ToString() ?? "";
    var size = ViewData["Size"]?.ToString() ?? "md";
    var closeable = ViewData["Closeable"]?.ToString()?.ToLower() == "true";
    var avatarSrc = ViewData["AvatarSrc"]?.ToString() ?? "";
    var avatarAlt = ViewData["AvatarAlt"]?.ToString() ?? text;
    var cssClass = ViewData["CssClass"]?.ToString() ?? "";
    var onClick = ViewData["OnClick"]?.ToString() ?? "";

    var chipClass = "chip";
    if (!string.IsNullOrEmpty(variant))
    {
        chipClass += $" chip-{variant}";
    }
    if (size != "md")
    {
        chipClass += $" chip-{size}";
    }
    if (!string.IsNullOrEmpty(cssClass))
    {
        chipClass += $" {cssClass}";
    }
}

<span class="@chipClass" @(string.IsNullOrEmpty(onClick) ? "" : $"onclick=\"{onClick}\"")>
    @if (!string.IsNullOrEmpty(avatarSrc))
    {
        <span class="chip-avatar">
            <img src="@avatarSrc" alt="@avatarAlt" />
        </span>
    }
    @text
    @if (closeable)
    {
        <button type="button" class="chip-close" aria-label="Remove">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                <path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z" />
            </svg>
        </button>
    }
</span>